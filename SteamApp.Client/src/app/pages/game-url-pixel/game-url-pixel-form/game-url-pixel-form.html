<form [formGroup]="form" (ngSubmit)="onSubmit()" class="general-form">
  <h2>{{ isEditMode ? 'Edit Game URL Pixel' : 'Create Game URL Pixel' }}</h2>

  <!-- Game -->
  <div class="flex py-2 gap-2 items-center">
    <label class="w-24">Game</label>
    <select class="px-2 py-1 w-full" [formControl]="gameIdControl">
      <option [ngValue]="null" disabled>Select a game</option>
      @for(game of games; track game.id) {
      <option [ngValue]="game.id">
        {{ game.name }}
      </option>
      }
    </select>
  </div>

  <!-- Game URL -->
  <div class="flex py-2 gap-2 items-center">
    <label class="w-24">Game URL *</label>
    <select formControlName="gameUrlId" class="px-2 py-1 w-full" [disabled]="gameUrlsFiltered.length === 0">
      <option [ngValue]="null" disabled>Select a game URL</option>
      @for(gameUrl of this.gameUrlsFiltered; track gameUrl.id) {
      <option [ngValue]="gameUrl.id">
        {{ gameUrl.name }}
      </option>
      }
    </select>
  </div>

  <!-- Pixel -->
  <div class="flex py-2 gap-2 items-center">
    <label class="w-24">Pixel *</label>
    <select formControlName="pixelId" class="px-2 py-1 w-full" [disabled]="pixelsFiltered.length === 0">
      <option [ngValue]="null" disabled>Select a pixel</option>
      @for(pixel of pixelsFiltered; track pixel.id)      {
      <option [ngValue]="pixel.id">
        {{ pixel.name }}
      </option>
      }

    </select>
  </div>

  <div class="flex gap-x-2">
    <button type="submit" [disabled]="form.invalid">
      {{ isEditMode ? 'Save' : 'Create' }}
    </button>

    <button type="return" (click)="cancel()">
      Back
    </button>
  </div>
</form>
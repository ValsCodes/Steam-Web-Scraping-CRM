<div class="container p-4 gap-2">
  <div class="flex px-5">
    <h2 class="text-2xl font-semibold text-gray-500">Manual Mode</h2>
  </div>

  <div class="flex gap-x-5 m-auto w-full justify-start">
     <!-- Control Panel -->
    <div class="flex flex-col p-4 bg-orange-200 rounded-md min-w-[400px]">
      <h2 class="mb-4 font-semibold">Control Panel</h2>

      <!-- Game -->
      <div class="flex py-2 gap-2 items-center">
        <label class="w-24">Game</label>
        <select class="px-2 py-1 w-full" [formControl]="gameIdControl">
          <option [ngValue]="null" disabled>Select a game</option>
          <option *ngFor="let game of games" [ngValue]="game.id">
            {{ game.name }}
          </option>
        </select>
      </div>

      <!-- Game URL -->
      <div class="flex py-2 gap-2 items-center">
        <label class="w-24">Game URL</label>
        <select class="px-2 py-1 w-full" [formControl]="gameUrlIdControl" [disabled]="gameUrlsFiltered.length === 0">
          <option [ngValue]="null" disabled>Select a game URL</option>
          <option *ngFor="let gameUrl of gameUrlsFiltered" [ngValue]="gameUrl.id">
            {{ gameUrl.name }}
          </option>
        </select>
      </div>

      <!-- Actions -->
      <div class="flex gap-2 mt-4">
        <button class="button button-small-primary" (click)="showAllButtonClicked()"
          [disabled]="gameUrlIdControl.value === null">
          Show All
        </button>
        <button (click)="clearButtonClicked()" class="button button-small-danger"> Clear </button>
      </div>
    </div>

    <!-- Batch Settings -->
    <div class="flex flex-col p-4 bg-orange-200 rounded-md min-w-[400px]">
      <h2 class="mb-4 font-semibold">Batch Panel</h2>
      <div class="flex flex-col h-full justify-between">
        
        <div class="flex gap-x-2 justify-between">
          <div class="py-2"> <label>Current Item:</label> <input class="w-[5rem] ml-2 pl-2 rounded-md" type="number"
              min="1" max="500" [value]="currentIndex" (input)="currentIndex = $any($event.target).valueAsNumber">
          </div>
          <div class="py-2"> <label>Batch Size:</label> <input class="w-[5rem] ml-2 pl-2 rounded-md" type="number"
              min="1" max="500" [value]="batchSize" (input)="batchSize = $any($event.target).valueAsNumber"> </div>
        </div>

        <!-- Actions -->
        <div class="flex gap-2 mt-4">
          <button (click)="startBatchButtonClicked()" class="button button-small-success"> Start Batch </button>
          <button (click)="resetButtonClicked()" class="button button-small-danger"> Reset </button>
          <button (click)="openAllButtonClicked()" class="button button-small-primary"> Open All </button>
        </div>
      </div>
    </div>

    <!-- Links -->
    <div class="flex flex-col p-4 bg-orange-200 rounded-md min-w-[300px]">
      <h2 class="mb-4 font-semibold">Links</h2>
      <ul class="list-disc list-inside ml-2 marker:text-black marker:text-lg">
        <li>
          <strong>
            <a href="https://backpack.tf/spreadsheet" target="_blank" rel="noopener noreferrer"
              class="hover:text-blue-600">
              BackpackTF Prices URL
            </a>
          </strong>
        </li>
        <li>
          <strong>
            <a href="https://steamcommunity.com/id/_Val/inventory" target="_blank" rel="noopener noreferrer"
              class="hover:text-blue-600">
              Inventory
            </a>
          </strong>
        </li>
        <li>
          <strong>
            <a href="https://steamcommunity.com/market/" target="_blank" rel="noopener noreferrer"
              class="hover:text-blue-600">
              Community Market
            </a>
          </strong>
        </li>
      </ul>
    </div>

    <!-- Search -->
    <div class="flex flex-col p-4 bg-orange-200 rounded-md min-w-[300px]">
      <h2 class="mb-4 font-semibold">Word List</h2>
      <app-copy-link [textToCopy]="'Strange Part:'" [textToShow]="'< Strange Part: >'">
      </app-copy-link>
    </div>
  </div>

  <!-- Products -->
  <div class="panel panel--weapon-list mt-6">
    <div class="grid-item flex flex-col" *ngFor="let product of products; trackBy: trackByProductId let i = index">
      <strong> {{ i + 1 }}.
        <a [href]="product.fullUrl" target="_blank" rel="noopener">
          {{ product.productName }}
        </a>
      </strong>
    </div>
  </div>
</div>